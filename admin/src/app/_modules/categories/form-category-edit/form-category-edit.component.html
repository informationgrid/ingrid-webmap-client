<form #f="ngForm" (ngSubmit)="onEditCategoryItem(node)" novalidate>
  <div class="form-group row" [ngClass]="{
    'has-danger': id.invalid && (id.dirty || id.touched),
    'has-success': id.valid && (id.dirty || id.touched)}
    ">
    <label class="col-sm-4 col-form-label" for="" translate>category_item_edit_id</label>
    <div class="col-sm-8">
      <input type="text" class="form-control" #id="ngModel" [(ngModel)]="model.id" name="id" placeholder="{{ ('category_item_edit_id_input') | translate }}" required>
      <div class="form-control-feedback" 
          *ngIf="id.errors && (id.dirty || id.touched)">
        <div *ngIf="id.errors.required"><span translate>field_required</span></div>
      </div>
    </div>
  </div>
  <div class="form-group row" [ngClass]="{
    'has-danger': label.invalid && (label.dirty || label.touched),
    'has-success': label.valid && (label.dirty || label.touched)}
    ">
    <label class="col-sm-4 col-form-label" for="" translate>category_item_edit_label</label>
    <div class="col-sm-8">
      <input type="text" class="form-control" #label="ngModel" [(ngModel)]="model.label" name="label" placeholder="{{ ('category_item_edit_label_input') | translate }}" required>
      <div class="form-control-feedback" 
          *ngIf="label.errors && (label.dirty || label.touched)">
        <div *ngIf="label.errors.required"><span translate>field_required</span></div>
      </div>
    </div>
  </div>
  <div *ngIf="node.hasChildren" class="form-group row">
    <label class="col-sm-4 col-form-label" for="" translate>category_item_edit_selectedOpen</label>
    <div class="col-sm-8">
      <select class="form-control" #selectedOpen="ngModel" [(ngModel)]="model.selectedOpen" name="selectedOpen">
          <option value="false" translate>false</option>
          <option value="true" translate>true</option>
        </select>
    </div>
  </div>
  <div class="form-group row" [ngClass]="{
    'has-danger': layerBodId.invalid && (layerBodId.dirty || layerBodId.touched),
    'has-success': layerBodId.valid && (layerBodId.dirty || layerBodId.touched)}
    ">
    <label class="col-sm-4 col-form-label" for="" translate>category_item_edit_layerBodId</label>
    <div class="col-sm-8">
      <div class="input-group">
        <input type="text" #layerBodId="ngModel" [(ngModel)]="model.layerBodId" class="form-control" name="layerBodId" placeholder="{{ ('category_item_edit_layerBodId_input') | translate }}" (click)="onLayerClick($event, layerBodId.value)" (keyup)="onLayerListSearch($event, layerBodId.value)" appExistOnLayerList [checkList]="layers">
        <div class="input-group-append" *ngIf="searchLayerList">
          <button class="btn btn-primary" (click)="clearLayerList()">
              <i class="fa fa-caret-up" aria-hidden="true"></i>
          </button>
        </div>
      </div>
      <div class="form-control-feedback" 
          *ngIf="layerBodId.errors && (layerBodId.dirty || layerBodId.touched)">
        <div *ngIf="layerBodId.errors.notExist"><span translate>layerBodId_not_exist</span></div>
      </div>
      <ul *ngIf="searchLayerList" class="list-group search-list">
        <li *ngFor="let layer of searchLayerList" class="list-group-item list-group-item-action" (click)="onSelectLayer($event, layer.id)">
          <span>{{ layer.item.label }} ({{ layer.id }})</span>
        </li>
      </ul>
    </div>
  </div>
  <div class="modal-footer">
    <button type="submit" class="btn btn-primary" [disabled]="f.invalid" translate>
      <i class="fa fa-save" aria-hidden="true"></i>
      save
    </button>
  </div>
</form>
<div class="alert alert-success" *ngIf="isSaveSuccess" translate>category_edit_success</div>
<div class="alert alert-danger" *ngIf="isSaveUnsuccess" translate>category_edit_unsuccess</div>